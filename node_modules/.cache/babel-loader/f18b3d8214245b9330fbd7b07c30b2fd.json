{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Front-end\\\\Front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Front-end\\\\Front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\Front-end\\\\Front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Front-end\\\\Front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Front-end\\\\Front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Front-end\\\\Front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Front-end\\\\Front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Front-end\\\\Front-end\\\\src\\\\components\\\\search\\\\index.js\";\nimport React from 'react';\nimport { Form, Field } from 'react-final-form';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers';\nimport { airportsFetchData as _airportsFetchData } from '../../redux/search/airports/actions';\nimport { ticketsFetchData as _ticketsFetchData } from '../../redux/search/tickets/actions';\nimport styles from './material.style';\nimport DatePicker from '../date-picker/index';\nimport SimpleSelect from '../select';\nimport TextField from '../text-field';\nimport './index.scss';\nimport moment from 'moment';\n\nvar Search =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Search, _React$Component);\n\n  function Search() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Search)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(values) {\n        var date, fromTickets;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                //this.props.ticketsFetchData('/search-request', values);\n                //return this.props.tickets;\n                date = '2019-03-25T13:14:00.000Z';\n                fromTickets = values.filter(function (values) {\n                  return moment(values.departure).startOf('day').isSame(moment(date).startOf('day'));\n                });\n                console.log(fromTickets);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      return this.props.airports.length || this.props.airportsFetchData('/airports');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        className: \"search-form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.onSubmit,\n        render: function render(_ref2) {\n          var handleSubmit = _ref2.handleSubmit;\n          return React.createElement(\"form\", {\n            className: \"search-form\",\n            onSubmit: handleSubmit,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, React.createElement(Field, {\n            name: \"from\",\n            label: \"From\",\n            className: classes.selectField,\n            component: SimpleSelect,\n            items: _this2.props.airports,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }), React.createElement(Field, {\n            name: \"to\",\n            label: \"To\",\n            className: classes.selectField,\n            component: SimpleSelect,\n            items: _this2.props.airports,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }), React.createElement(MuiPickersUtilsProvider, {\n            utils: DateFnsUtils,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }, React.createElement(Field, {\n            name: \"departure\",\n            label: \"Departure\",\n            className: classes.textField,\n            component: DatePicker,\n            variant: \"outlined\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70\n            },\n            __self: this\n          })), React.createElement(MuiPickersUtilsProvider, {\n            utils: DateFnsUtils,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79\n            },\n            __self: this\n          }, React.createElement(Field, {\n            name: \"return\",\n            label: \"Return\",\n            className: classes.textField,\n            component: DatePicker,\n            variant: \"outlined\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"passengers-counters\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, React.createElement(Field, {\n            name: \"adult\",\n            label: \"Adult\",\n            className: classes.passengers,\n            component: TextField,\n            variant: \"outlined\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          }), React.createElement(Field, {\n            name: \"child\",\n            label: \"Child\",\n            className: classes.passengers,\n            component: TextField,\n            variant: \"outlined\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97\n            },\n            __self: this\n          }), React.createElement(Field, {\n            name: \"infant\",\n            label: \"Infant\",\n            className: classes.passengers,\n            component: TextField,\n            variant: \"outlined\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104\n            },\n            __self: this\n          })), React.createElement(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            className: classes.button,\n            type: \"submit\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }, \"Search\"));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Search;\n}(React.Component);\n\nSearch.propTypes = {\n  classes: PropTypes.object.isRequired,\n  airports: PropTypes.array.isRequired,\n  ticketsFetchData: PropTypes.func.isRequired,\n  airportsFetchData: PropTypes.func.isRequired,\n  tickets: PropTypes.array.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userRequest: state.user.request,\n    tickets: state.searchPage.tickets.items,\n    ticketsHasErrored: state.searchPage.tickets.hasErrored,\n    ticketsIsLoading: state.searchPage.tickets.isLoading,\n    airports: state.searchPage.airports.items,\n    airportsHaveErrored: state.searchPage.airports.hasErrored\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    ticketsFetchData: function ticketsFetchData(url, values) {\n      return dispatch(_ticketsFetchData(url, values));\n    },\n    airportsFetchData: function airportsFetchData(url) {\n      return dispatch(_airportsFetchData(url));\n    }\n  };\n};\n\nexport default compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps))(Search);","map":{"version":3,"sources":["D:\\Front-end\\Front-end\\src\\components\\search\\index.js"],"names":["React","Form","Field","connect","compose","PropTypes","withStyles","Button","DateFnsUtils","MuiPickersUtilsProvider","airportsFetchData","ticketsFetchData","styles","DatePicker","SimpleSelect","TextField","moment","Search","onSubmit","values","date","fromTickets","filter","departure","startOf","isSame","console","log","props","airports","length","classes","handleSubmit","selectField","textField","passengers","button","Component","propTypes","object","isRequired","array","func","tickets","mapStateToProps","state","userRequest","user","request","searchPage","items","ticketsHasErrored","hasErrored","ticketsIsLoading","isLoading","airportsHaveErrored","mapDispatchToProps","dispatch","url"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Field } from 'react-final-form';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers';\nimport { airportsFetchData } from '../../redux/search/airports/actions';\nimport { ticketsFetchData } from '../../redux/search/tickets/actions';\nimport styles from './material.style';\n\nimport DatePicker from '../date-picker/index';\nimport SimpleSelect from '../select';\nimport TextField from '../text-field';\nimport './index.scss';\nimport moment from 'moment';\n\nclass Search extends React.Component {\n  static propTypes = {\n    classes: PropTypes.object.isRequired,\n    airports: PropTypes.array.isRequired,\n    ticketsFetchData: PropTypes.func.isRequired,\n    airportsFetchData: PropTypes.func.isRequired,\n    tickets: PropTypes.array.isRequired,\n  };\n\n  componentDidMount() {\n    return this.props.airports.length || this.props.airportsFetchData('/airports');\n  \n  }\n\n  onSubmit = async (values) => {\n    //this.props.ticketsFetchData('/search-request', values);\n    //return this.props.tickets;\n    const date = '2019-03-25T13:14:00.000Z';\n    const fromTickets = values.filter(values => moment(values.departure).startOf('day').isSame(moment(date).startOf('day')));\n    console.log(fromTickets);\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className=\"search-form-container\">\n        <Form\n          onSubmit={this.onSubmit}\n          \n          render={({ handleSubmit }) => (\n            <form className=\"search-form\" onSubmit={handleSubmit}>\n              <Field\n                name=\"from\"\n                label=\"From\"\n                className={classes.selectField}\n                component={SimpleSelect}\n                items={this.props.airports}\n              />\n\n              <Field\n                name=\"to\"\n                label=\"To\"\n                className={classes.selectField}\n                component={SimpleSelect}\n                items={this.props.airports}\n              />\n\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <Field\n                  name=\"departure\"\n                  label=\"Departure\"\n                  className={classes.textField}\n                  component={DatePicker}\n                  variant=\"outlined\"\n                />\n              </MuiPickersUtilsProvider>\n\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <Field\n                  name=\"return\"\n                  label=\"Return\"\n                  className={classes.textField}\n                  component={DatePicker}\n                  variant=\"outlined\"\n                />\n              </MuiPickersUtilsProvider>\n\n              <div className=\"passengers-counters\">\n                <Field\n                  name=\"adult\"\n                  label=\"Adult\"\n                  className={classes.passengers}\n                  component={TextField}\n                  variant=\"outlined\"\n                />\n                <Field\n                  name=\"child\"\n                  label=\"Child\"\n                  className={classes.passengers}\n                  component={TextField}\n                  variant=\"outlined\"\n                />\n                <Field\n                  name=\"infant\"\n                  label=\"Infant\"\n                  className={classes.passengers}\n                  component={TextField}\n                  variant=\"outlined\"\n                />\n              </div>\n\n              <Button variant=\"contained\" color=\"primary\" className={classes.button} type=\"submit\">\n                Search\n              </Button>\n            </form>\n          )}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  userRequest: state.user.request,\n  tickets: state.searchPage.tickets.items,\n  ticketsHasErrored: state.searchPage.tickets.hasErrored,\n  ticketsIsLoading: state.searchPage.tickets.isLoading,\n  airports: state.searchPage.airports.items,\n  airportsHaveErrored: state.searchPage.airports.hasErrored,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  ticketsFetchData: (url, values) => dispatch(ticketsFetchData(url, values)),\n  airportsFetchData: url => dispatch(airportsFetchData(url)),\n});\n\nexport default compose(withStyles(styles),connect(mapStateToProps, mapDispatchToProps))(Search);\n"]},"metadata":{},"sourceType":"module"}